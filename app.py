import streamlit as st
import time

# ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ
st.set_page_config(page_title="ููุตุฉ LAI ุงูุชุนููููุฉ", page_icon="๐ก", layout="centered")

# ุชูุณูู CSS ุงุญุชุฑุงูู
st.markdown("""
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
    html, body, [class*="st-"] { direction: rtl; text-align: right; font-family: 'Cairo', sans-serif; }
    .stApp { background-color: #ffffff; }
    .welcome-box { text-align: center; padding: 40px; border-radius: 25px; background: #e0f4f8; border: 2px solid #00acc1; }
    .report-card { background: #f8f9fa; border-right: 8px solid #10a37f; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
    .innovation-box { background: #fff3e0; border: 2px solid #fb8c00; padding: 25px; border-radius: 15px; margin-top: 20px; }
    .stButton > button { background: #00acc1; color: white; border-radius: 12px; font-weight: bold; width: 100%; height: 3em; }
    .idea-output { background: #e8f5e9; border-left: 5px solid #4caf50; padding: 15px; border-radius: 8px; margin-top: 15px; }
    </style>
    """, unsafe_allow_html=True)

# ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (Session State)
if 'page' not in st.session_state: st.session_state.page = "login"
if 'user_name' not in st.session_state: st.session_state.user_name = ""
if 'is_finished' not in st.session_state: st.session_state.is_finished = False
if 'scores' not in st.session_state: st.session_state.scores = {"ูุบุชู": 0, "ุฑูุงุถูุงุช": 0, "ุญุงุณุจ": 0, "ุงูููุด": 0, "ุนููู": 0}

# --- 1. ุตูุญุฉ ุชุณุฌูู ุงูุงุณู ---
if st.session_state.page == "login":
    if st.session_state.is_finished:
        st.warning(f"ุนุฐุฑุงู ุงููุจุฏุนุฉ {st.session_state.user_name}ุ ููุฏ ุฃุชููุชู ุฑุญูุชูู ุงูุงุจุชูุงุฑูุฉ ุจูุฌุงุญ ููุง ูููู ุงูุฅุนุงุฏุฉ ุญุงููุงู.")
    else:
        st.markdown("<div class='welcome-box'>", unsafe_allow_html=True)
        st.image("https://img.freepik.com/free-vector/scientists-concept-illustration_114360-1011.jpg", width=350)
        st.markdown("<h1>ุฃููุงู ุจูู ูู ููุตุฉ LAI</h1>", unsafe_allow_html=True)
        name = st.text_input("ูุถูุงูุ ุฃุฏุฎูู ุงุณููู ุงูุซูุงุซู ููุจุฏุก ูู ุฑุญูุชูู:")
        if st.button("ุชุณุฌูู ูุฏุฎูู ๐"):
            if name:
                st.session_state.user_name = name
                st.session_state.page = "welcome"
                st.rerun()
            else:
                st.error("ูุฑุฌู ุฅุฏุฎุงู ุงูุงุณู ูููุชุงุจุนุฉ")
        st.markdown("</div>", unsafe_allow_html=True)

# --- 2. ุงูุตูุญุฉ ุงูุชุฑุญูุจูุฉ ---
elif st.session_state.page == "welcome":
    st.markdown(f"<div class='welcome-box'><h2>ูุฑุญุจุงู ุจูู ุงููุจุฏุนุฉ: {st.session_state.user_name}</h2>", unsafe_allow_html=True)
    st.write("ุฃูุง LAIุ ุฐูุงุคูู ุงูุงุตุทูุงุนู ุงููุณุงุนุฏ. ุณูุจุฏุฃ ุงูุขู ุจุชูููู ููุงุฑุงุชูู ุงูุนูููุฉ.")
    if st.button("ุจุฏุก ุงูุงุฎุชุจุงุฑ ุงูุชูุงุนูู ๐"):
        st.session_state.page = "quiz_ูุบุชู"
        st.rerun()
    st.markdown("</div>", unsafe_allow_html=True)

# --- 3. ุจูู ุงูุฃุณุฆูุฉ (5 ููู ูุงุฏุฉ) ---
quiz_data = {
    "ูุบุชู": [("ุนูุงูุฉ ุฑูุน ุงูุฃุณูุงุก ุงูุฎูุณุฉุ", ["ุงููุงู", "ุงูุฃูู", "ุงููุงุก"]), ("ุฃุณููุจ 'ูุง ุฃุฌูู ุงูุณูุงุก!'ุ", ["ุชุนุฌุจ", "ุงุณุชููุงู", "ููู"]), ("ููุฒุฉ 'ุงุณู' ููุ", ["ูุตู", "ูุทุน", "ูุชุทุฑูุฉ"]), ("ุฌูุน 'ููู' ููุ", ["ุฃููุงู", "ููููู", "ุฃูุงููู"]), ("ุงููุงุนู ูููู ุฏุงุฆูุงูุ", ["ูุฑููุนุงู", "ููุตูุจุงู", "ูุฌุฑูุฑุงู"])],
    "ุฑูุงุถูุงุช": [("15 ร 3 ูุณุงููุ", ["45", "35", "55"]), ("ุฌุฐุฑ ุงูุนุฏุฏ 64 ููุ", ["8", "7", "6"]), ("ูููุฉ (2^3) ููุ", ["8", "6", "9"]), ("ูุฌููุน ุฒูุงูุง ุงููุฑุจุนุ", ["360 ุฏุฑุฌุฉ", "180 ุฏุฑุฌุฉ", "90 ุฏุฑุฌุฉ"]), ("ูุตู ุงูุนุฏุฏ 100ุ", ["50", "25", "75"])],
    "ุญุงุณุจ": [("ุฐุงูุฑุฉ ุชููุฏ ูุญุชูุงูุง ุนูุฏ ุงููุทุงุน ุงูููุฑุจุงุกุ", ["RAM", "ROM", "SSD"]), ("ุฃู ููุง ููู ูุนุฏ ูุธุงู ุชุดุบููุ", ["Windows", "Microsoft Word", "Google Chrome"]), ("ูุบุฉ ุชุณุชุฎุฏู ูุจูุงุก ูููู ุตูุญุงุช ุงูููุจุ", ["HTML", "Python", "Java"]), ("ุฌูุงุฒ ูุฑุจุท ุดุจูุงุช ุงูุญุงุณุจ ุจุจุนุถูุงุ", ["ุงูุฑุงูุชุฑ", "ุงูุดุงุดุฉ", "ุงูุทุงุจุนุฉ"]), ("ุฃุตุบุฑ ูุญุฏุฉ ุชุฎุฒูู ุจูุงูุงุชุ", ["Bit", "Byte", "Kilobyte"])],
    "ุงูููุด": [("Choose the correct verb: 'I ___ a student'", ["am", "is", "are"]), ("The opposite of 'Fast' is:", ["Slow", "Quick", "Rapid"]), ("Past tense of 'Go' is:", ["Went", "Gone", "Goes"]), ("A person who cures sick people is a:", ["Doctor", "Teacher", "Pilot"]), ("We use 'An' before words starting with a ___ sound.", ["vowel", "consonant", "silent letter"])],
    "ุนููู": [("ูุง ูู ุฑูุฒ ุนูุตุฑ ุงูุฃูุณุฌููุ", ["O", "H", "N"]), ("ุชุชุญูู ุงููุงุฏุฉ ูู ุบุงุฒ ุฅูู ุณุงุฆู ุจุนูููุฉุ", ["ุงูุชูุซู", "ุงูุชุจุฎุฑ", "ุงูุงูุตูุงุฑ"]), ("ุงููุญุฏุฉ ุงูุฃุณุงุณูุฉ ูุจูุงุก ุงููุงุฆูุงุช ุงูุญูุฉ ููุ", ["ุงูุฎููุฉ", "ุงูุนุถู", "ุงููุณูุฌ"]), ("ุงูููุฉ ุงูุชู ุชุฌุฐุจ ุงูุฃุฌุณุงู ูุญู ุงูุฃุฑุถ ููุ", ["ุงูุฌุงุฐุจูุฉ", "ุงููุบูุงุทูุณูุฉ", "ุงูุงุญุชูุงู"]), ("ูููุจ ุฒุญู ูุดุชูุฑ ุจูุฌูุฏุ", ["ุญููุงุช", "ุจุฑุงููู", "ุฃููุงุฑ"])]
}

subjects = list(quiz_data.keys())
for i, sub in enumerate(subjects):
    if st.session_state.page == f"quiz_{sub}":
        st.markdown(f"### ๐ ุงุฎุชุจุงุฑ ูุงุฏุฉ: {sub} - (ุงูุทุงูุจุฉ: {st.session_state.user_name})")
        with st.form(f"form_{sub}"):
            score = 0
            for j, (q, opts) in enumerate(quiz_data[sub]):
                ans = st.radio(f"{j+1}. {q}", opts, key=f"{sub}_{j}")
                if ans == opts[0]: score += 1
            if st.form_submit_button("ุงููุงุฏุฉ ุงูุชุงููุฉ โก๏ธ"):
                st.session_state.scores[sub] = score
                st.session_state.page = f"quiz_{subjects[i+1]}" if i+1 < len(subjects) else "final_report"
                st.rerun()

# --- 4. ุงูุชูุฑูุฑ ุงูููุงุฆู (ููุงุท ุงูููุฉุ ุงูุถุนูุ ุงููุตุงุฆุญุ ุงูุฌุฏููุ ุงูุฑูุงุจุท) ---
elif st.session_state.page == "final_report":
    st.balloons()
    strongest = max(st.session_state.scores, key=st.session_state.scores.get)
    weakest = min(st.session_state.scores, key=st.session_state.scores.get)
    
    st.markdown(f"<h2 style='text-align:center;'>๐ ุชูุฑูุฑ LAI ุงูุดุงูู ููุทุงูุจุฉ: {st.session_state.user_name}</h2>", unsafe_allow_html=True)
    
    # ููุงุท ุงูููุฉ
    st.markdown(f"<div class='report-card'><h3>๐ ููุทุฉ ุงูููุฉ: {strongest}</h3>", unsafe_allow_html=True)
    st.write(f"ุฃูุชู ูุชููุฒุฉ ุฌุฏุงู ูู {strongest}. ูุฑู LAI ูููู ุนุงููุฉ ูุณุชูุจููุฉ ูู ูุฐุง ุงููุฌุงู!")
    st.markdown(f"<a href='https://ien.edu.sa/#/courses' target='_blank'>๐ ุงุถุบุทู ููุง ููุญุชูู ุฅุซุฑุงุฆู ูุชูุฏู ูู {strongest}</a>", unsafe_allow_html=True)
    st.markdown("</div>", unsafe_allow_html=True)

    # ููุงุท ุงูุถุนู
    st.markdown(f"<div class='report-card' style='border-color: #f44336;'><h3>๐ ูุงุฏุฉ ุชุญุชุงุฌ ุชุทููุฑ: {weakest}</h3>", unsafe_allow_html=True)
    st.write(f"ุชุญุชุงุฌูู ูุชุฑููุฒ ุฅุถุงูู ูู {weakest}. ูุง ุชููููุ ุงูุชุฏุฑูุจ ูุตูุน ุงููุณุชุญูู.")
    st.markdown(f"<a href='https://ien.edu.sa/#/courses' target='_blank' style='color:#f44336;'>๐ ูุฑุงุฌุนุฉ ุฏุฑูุณ {weakest} ุนุจุฑ ุจูุงุจุฉ ุนูู ุงูุชุนููููุฉ</a>", unsafe_allow_html=True)
    st.markdown("</div>", unsafe_allow_html=True)

    # ุงููุตูุญุฉ ูุงูุฌุฏูู
    st.info("๐ก **ูุตูุญุฉ LAI:** ุงุจุฏุฃู ููููู ุจูุฑุงุฌุนุฉ ุงููุงุฏุฉ ุงูุฃูู ุฏุฑุฌุฉ ูุชุชุญูู ูููุทุฉ ููุฉุ ูุงุณุชุบูู ููุงุท ููุชูู ููุฅุจุฏุงุน!")
    st.markdown("### ๐ ุฌุฏูููู ุงูุฏุฑุงุณู ุงูููุชุฑุญ ูู LAI")
    st.table({"ุงูููู": ["ุงูุฃุญุฏ", "ุงูุงุซููู", "ุงูุซูุงุซุงุก", "ุงูุฃุฑุจุนุงุก", "ุงูุฎููุณ"], "ุงูุชุฑููุฒ": [f"ูุฑุงุฌุนุฉ {weakest} (1 ุณุงุนุฉ)", f"ุชูุงุฑูู {weakest} (45 ุฏูููุฉ)", f"ุฅุจุฏุงุน ูู {strongest} (1.5 ุณุงุนุฉ)", "ูุฑุงุฌุนุฉ ุนุงูุฉ (1 ุณุงุนุฉ)", "ูุดุฑูุน ุฅุจุฏุงุนู (2 ุณุงุนุฉ)"]})

    if st.button("ุงูุฐูุงุจ ุฅูู ููุจุชูุฑ ๐ก"):
        st.session_state.page = "innovator"
        st.rerun()

# --- 5. ุตูุญุฉ ููุจุชูุฑ (ุงูุฑูุงุฏุฉ ุงููุชูุฏูุฉ) ---
elif st.session_state.page == "innovator":
    st.session_state.is_finished = True # ุชูุนูู ููู ุงูุฅุนุงุฏุฉ
    strongest = max(st.session_state.scores, key=st.session_state.scores.get)
    
    st.markdown("<div class='innovation-box'>", unsafe_allow_html=True)
    st.title(f"๐ก ูุฎุชุจุฑ ููุจุชูุฑ: ุฑุญูุฉ ุงูุฑูุงุฏุฉ ููุทุงูุจุฉ {st.session_state.user_name}")
    st.write("ุฃุฌูุจู ุนูู ุงูุฃุณุฆูุฉ ุงูุนูููุฉ ูุชุญุฏูุฏ ููุน ุงูุงุจุชูุงุฑ ุงูููุงุณุจ ูููุ ุซู ุงุญุตูู ุนูู ููุฑุชูู ุงูุฑูุงุฏูุฉ:")
    
    with st.form("innovator_form"):
        st.markdown("**1. [ุณุคุงู ุนููู]** ูุง ูู ุงูุฎุทูุฉ ุงูุฃููู ูุงูุฃุณุงุณูุฉ ูู ุฃู ุจุญุซ ุนููู ูุงุฌุญุ")
        q_scientific1 = st.radio(" ", ["ุงูููุงุญุธุฉ ูุชุญุฏูุฏ ุงููุดููุฉ", "ุฌูุน ุงูุจูุงูุงุช", "ูุถุน ุงููุฑุถูุงุช"])
        
        st.markdown("**2. [ุณุคุงู ุชููู]** ูุง ูู ุฃูููุฉ ุชุนูู ููุงุฑุงุช ุงูุชูููุฑ ุงูููุฏู ูู ุนุตุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ")
        q_scientific2 = st.radio(" ", ["ุชุทููุฑ ุญููู ูุจุชูุฑุฉ", "ุญูุธ ุงููุนูููุงุช", "ุงุชุจุงุน ุงูุชุนูููุงุช"])
        
        st.markdown("**3. [ุณุคุงู ุฑูุงุฏู]** ูุง ูู ุงููุฌุงู ุงูุฐู ุชูุฏูู ูุถุน ุจุตูุชูู ุงูุฑูุงุฏูุฉ ููู ูุชุญุฏุซูู ูุฑูุงูุ")
        interest = st.selectbox(" ", ["ุงูุชูููุฉ", "ุงูุจูุฆุฉ", "ุงูุตุญุฉ", "ุงูุชุนููู", "ุงูุทุงูุฉ", "ุงูุชุตููุน"])
        
        submit_innovation = st.form_submit_button("ุงุญุตูู ุนูู ููุฑุชูู ุงูุฑูุงุฏูุฉ โจ")
        
        if submit_innovation:
            with st.spinner("LAI ูุญูู ุดุบููู ูุฐูุงุกูู ููููุฏ ููู ููุฑุฉ ูุฑูุฏุฉ..."):
                time.sleep(3)
                # ููุทู ุชูููุฏ ุงูุฃููุงุฑ ุจูุงุกู ุนูู ุงูููุฉ ูุงููุฌุงู ุงูููุถู
                if interest == "ุงูุชูููุฉ":
                    idea_title = f"ูุดุฑูุน 'ุจูุงุก ุงููุณุชูุจู': ููุตุฉ ุชุนููููุฉ ุฐููุฉ ุชุณุชุฎุฏู {strongest}."
                    idea_description = f"ุชููู ูุฐู ุงูููุตุฉ ุจุชุญููู ุจูุงูุงุช ุงูุทูุงุจ ูู ูุงุฏุฉ {strongest} ูุชูุฏูู ุฏุฑูุณ ููุดุงุฑูุน ูุฎุตุตุฉ ุชุนุชูุฏ ุนูู ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ูุชุณุงุนุฏูู ุนูู ุญู ุงููุดููุงุช ุจุดูู ุฅุจุฏุงุนู."
                    execution_place = "ูููู ุชุทููุฑูุง ูู ุญุงุถูุงุช ุงูุฃุนูุงู ูุซู 'ุจุงุฏุฑ' ุฃู ุงููุดุงุฑูุฉ ุจูุง ูู ูุณุงุจูุงุช ูุซู 'ูููุจุฉ' ุฃู 'ุฅูุฌุงุฒ ุงูุณุนูุฏูุฉ'."
                    advice = "ูุตูุญุฉ LAI: ุงุจุฏุฆู ุจุชุตููู ูููุฐุฌ ุฃููู ุจุณูุท (Prototype) ูุชุทุจูููุ ูุงุนุฑุถูู ุนูู ุฒููุงุฆูู ููุญุตูู ุนูู ููุงุญุธุงุชูู. ูุง ุชุฎุงูู ูู ุงููุดู ููู ุฃูู ุฎุทูุฉ ูููุฌุงุญ!"
                elif interest == "ุงูุจูุฆุฉ":
                    idea_title = f"ุงุจุชูุงุฑ 'ุงููุฏู ุงูุฎุถุฑุงุก': ูุธุงู ุจูุฆู ูุณุชุฏุงู ุจุชูููุงุช {strongest}."
                    idea_description = f"ูุดุฑูุน ููุฏู ูุชุตููู ุญุฏุงุฆู ุฐููุฉ ูู ุงููุฏู ุชุนุชูุฏ ุนูู ุญุณุงุณุงุช ููุณุชุดุนุฑุงุช ุชูููุฉ (ูุณุชููุฏุฉ ูู {strongest}) ููุฑุงูุจุฉ ุฌูุฏุฉ ุงูุชุฑุจุฉุ ูุชูุธูู ุงูุฑูุ ูุชุญุณูู ุฌูุฏุฉ ุงูููุงุก ุจุดูู ุขูู."
                    execution_place = "ูููู ุนุฑุถ ุงููุดุฑูุน ุนูู ุฃูุงูุงุช ุงููุฏูุ ุฃู ุงููุดุงุฑูุฉ ุจู ูู ูุจุงุฏุฑุงุช ูุซู 'ุงูุณุนูุฏูุฉ ุงูุฎุถุฑุงุก' ุฃู ูุณุงุจูุงุช ุงูุงุจุชูุงุฑ ุงูุจูุฆู."
                    advice = "ูุตูุญุฉ LAI: ุชูุงุตูู ูุน ุงูููุชููู ุจุงูุจูุฆุฉ ูุงูุฎุจุฑุงุก ูู ูุฌุงู {strongest} ููุญุตูู ุนูู ุงูุฏุนู ูุงูุชูุฌูู. ุดุบููู ุณูุบูุฑ ุงูุนุงูู!"
                elif interest == "ุงูุตุญุฉ":
                    idea_title = f"ุชุทุจูู 'ุนุงููุชู ุงูุฐููุฉ': ูุธุงู ุฑุนุงูุฉ ุตุญูุฉ ูุจูู ุนูู ุจูุงูุงุช {strongest}."
                    idea_description = f"ุชุทุจูู ูุฌูุน ุจูุงูุงุช ุตุญูุฉ ุฃุณุงุณูุฉ ููุณุชุฎุฏู ุชุญูููุงุช ูุชูุฏูุฉ (ูู {strongest}) ูุชูุฏูู ุชูุตูุงุช ุดุฎุตูุฉ ูููุณุชุฎุฏููู ูุชุญุณูู ููุท ุญูุงุชูู ุฃู ูุชุงุจุนุฉ ุญุงูุงุชูู ุงูุตุญูุฉ ุงูุจุณูุทุฉุ ูุน ุฑุจุทูู ุจุงูุนูุงุฏุงุช ุนูุฏ ุงูุญุงุฌุฉ."
                    execution_place = "ูููู ุชูุฏููู ูุฌูุงุช ูุซู ูุฒุงุฑุฉ ุงูุตุญุฉ ุฃู ุงููุณุชุดููุงุช ุงูุฎุงุตุฉุ ูุงููุดุงุฑูุฉ ูู ูุณุงุจูุงุช ุงูุงุจุชูุงุฑ ูู ุงูุฑุนุงูุฉ ุงูุตุญูุฉ."
                    advice = "ูุตูุญุฉ LAI: ุงูุชุฑููุฒ ุนูู ุณูููุฉ ุงูุงุณุชุฎุฏุงู (User Experience) ูู ุชุทุจูููู ุณูุฌุนูู ูููุฒุงู. ุงุจุฏุฆู ุจูุดููุฉ ุตุญูุฉ ุตุบูุฑุฉ ูุญุงููู ุญููุง."
                elif interest == "ุงูุชุนููู":
                    idea_title = f"ููุตุฉ 'ูุนููู ุงูุฐูู': ุชุฌุฑุจุฉ ุชุนููููุฉ ูุฑูุฏุฉ ุจุฃุณููุจ {strongest}."
                    idea_description = f"ููุตุฉ ุชุนููููุฉ ุชูุฏู ูุญุชูู ุชูุงุนููุงู ููุฎุตุตุงู ูู ููุงุฏ ูุชููุนุฉุ ูุน ุงูุชุฑููุฒ ุจุดูู ุฎุงุต ุนูู ุงุณุชุฎุฏุงู ุฃุณุงููุจ ูุจุชูุฑุฉ ูุณุชูุญุงุฉ ูู {strongest} ูุฌุนู ุงูุชุนูู ููุชุนุงู ููุนุงูุงู ููุทูุงุจ ูู ุฌููุน ุงููุณุชููุงุช."
                    execution_place = "ูููู ุงูุชูุงุตู ูุน ุฅุฏุงุฑุงุช ุงูุชุนูููุ ุงููุฏุงุฑุณ ุงูุฃูููุฉุ ุฃู ููุตุงุช ุงูุชุนููู ุนู ุจุนุฏ. ุฃูุถุงูุ ูุณุงุจูุงุช ุงูุงุจุชูุงุฑ ุงูุชุนูููู ุงููุญููุฉ ูุงูุนุงูููุฉ."
                    advice = "ูุตูุญุฉ LAI: ุงูุชูููุฑ ุฎุงุฑุฌ ุงูุตูุฏูู ูู ุทุฑู ุงูุชุฏุฑูุณ ุณูุฌุนู ููุตุชูู ุฑุงุฆุฏุฉ. ุงูุชูู ุจุงูุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ ูู ุงูุทูุงุจ ูุชุทููุฑูุง ุจุงุณุชูุฑุงุฑ."
                elif interest == "ุงูุทุงูุฉ":
                    idea_title = f"ูุดุฑูุน 'ุทุงูุฉ ุงููุณุชูุจู': ุญููู ูุณุชุฏุงูุฉ ุจุงุณุชุฎุฏุงู ูุจุงุฏุฆ {strongest}."
                    idea_description = f"ุงุจุชูุงุฑ ูุธุงู ุฃู ุฌูุงุฒ ูููุฑ ุญูููุงู ูุนุงูุฉ ูุชูููุฑ ุงูุทุงูุฉ ุฃู ุชูููุฏูุง ุจุทุฑู ูุณุชุฏุงูุฉุ ูุณุชููุฏุงู ูู ููุงููู {strongest} ุงูููุฒูุงุฆูุฉ ุฃู ุงูุฑูุงุถูุฉ ูุชุญุณูู ุงูููุงุกุฉ ูุชูููู ุงููุฏุฑ."
                    execution_place = "ุงูุดุฑูุงุช ุงูุตูุงุนูุฉุ ุดุฑูุงุช ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉุ ุฃู ุงูุฌูุงุช ุงูุญููููุฉ ุงููุนููุฉ ุจุงูุงุณุชุฏุงูุฉ ูุงูุทุงูุฉ."
                    advice = "ูุตูุญุฉ LAI: ุงุจุฏุฆู ุจููู ุนููู ููุดููุฉ ูุนููุฉ ูู ูุฌุงู ุงูุทุงูุฉ ูุญุงููู ุฅูุฌุงุฏ ุญู ุจุณูุท ููุนุงู ููุง. ูู ููุฑุฉ ูุจูุฑุฉ ุชุจุฏุฃ ุตุบูุฑุฉ."
                else: # ุงูุชุตููุน
                    idea_title = f"ุดุฑูุฉ 'ุตูุงุน ุงููุณุชูุจู': ููุชุฌุงุช ูุจุชูุฑุฉ ุจุชูููุงุช {strongest}."
                    idea_description = f"ุชุฃุณูุณ ุดุฑูุฉ ุตุบูุฑุฉ ูุชุตููู ูุชุตููุน ููุชุฌุงุช ูุจุชูุฑุฉ ุชุนุชูุฏ ุนูู ูุจุงุฏุฆ {strongest}ุ ูุซู ุฃุฌูุฒุฉ ุฐููุฉ ุชุณุงุนุฏ ูู ุงูุญูุงุฉ ุงูููููุฉุ ุฃู ุฃุฏูุงุช ุชุนููููุฉ ุชูุงุนููุฉ."
                    execution_place = "ุญุงุถูุงุช ุงูุฃุนูุงูุ ุบุฑู ุงูุชุฌุงุฑุฉุ ุฃู ูุณุงุจูุงุช ุฏุนู ุงููุดุงุฑูุน ุงููุงุดุฆุฉ."
                    advice = "ูุตูุญุฉ LAI: ุงุจุญุซู ุนู ุดุฑูู ูููู ููุงุฑุงุชูู ูู ุงูุชุตููุน ุฃู ุงูุชุณููู. ุฏุฑุงุณุฉ ุงูุณูู ุถุฑูุฑูุฉ ูุจู ุงูุจุฏุก ูู ุงูุฅูุชุงุฌ."

                st.markdown("<div class='idea-output'>", unsafe_allow_html=True)
                st.markdown(f"**ุนููุงู ููุฑุชูู: {idea_title}**")
                st.markdown(f"**ุดุฑุญ ุชูุตููู ููููุฑุฉ:** {idea_description}")
                st.markdown(f"**ุฃูู ูููููู ุชูููุฐูุงุ** {execution_place}")
                st.markdown(f"**ูุตูุญุฉ LAI ุงูุฐูุจูุฉ ูุชุจุฏุฆู:** {advice}")
                st.markdown("</div>", unsafe_allow_html=True)
    
    st.markdown("</div>", unsafe_allow_html=True)
    st.write("ููุงุญุธุฉ: ููุฏ ุชู ุญูุธ ูุชุงุฆุฌูู ูุฑุญูุชูู ุงูุงุจุชูุงุฑูุฉ ุจูุฌุงุญ ูู ุณุฌูุงุช LAI.")
    if st.button("ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ"):
        st.session_state.page = "login"
        st.session_state.is_finished = False # ูููู ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ ุจุนุฏ ุงูุนูุฏุฉ ูุงูุจุฏุก ุจุงุณู ุฌุฏูุฏ ุฅุฐุง ูุฒู ุงูุฃูุฑ
        st.session_state.user_name = ""
        st.session_state.scores = {k: 0 for k in st.session_state.scores}
        st.rerun()

st.markdown("<br><center><b>ุตููุน ุจูุงุณุทุฉ ุงููุจุฑูุฌุฉ ุฌูุฑู ๐</b></center>", unsafe_allow_html=True)
